%###################################################################################################
%
%Style für eine Abschlussarbeit an der Ostfalia - Hochschule für angewandte
% Wissenschaften
%
%###################################################################################################

%Schriftgroesse, Layout, Papierformat, Art des Dokumentes
\documentclass[%
	a4paper,			% Papierformat
	oneside,			% einseitiger Druck
	%twoside,			% zweiseitiger Druck
	12pt,				% Schriftgröße
	onecolumn,			% einspaltiger Text
	%twocolumn,			% zweispaltiger Text
	openright,			% Kapitel dürfen nur auf einer rechten Seite beginnen
	openany,			% Kapitel dürfen rechts oder links beginnen
	parskip=half,		% eine halbe Zeile Abstand zw. Absätzen
	headsepline,		% Kopfzeilenlinie
	footsepline,		% Fußzeilenlinie
	bibliography=totoc,	% Bibliographie im Inhaltsverzeichnis
	%idxtotoc			% Index im Inhaltsverzeichnis
	]{scrbook}

\usepackage[utf8]{inputenc}	
	
%Einstellungen der Seitenraender
\usepackage[
	left=30mm,
	right=20mm,
	top=45mm,
	bottom=55mm,
	%includeheadfoot,
	]{geometry}

%Fuer Zeilenabstand
\usepackage{setspace}

% deutsche Silbentrennung etc.
\usepackage[ngerman]{babel}

% Grafiken: PDF, GIF, PNG
\usepackage{graphicx}

%Stichwortverzeichnis/Index erstellen
\usepackage{makeidx}
\usepackage[
acronym, %Abkürzungsverzeichnis
toc]%Einträge im Inhaltsverzeichnis
{glossaries}
	\makeindex
	\makeglossaries

%Schriftart auf Helvetica umstellen (aehnlich Arial unter Windows)
\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}

%Sammelsurium
\usepackage[T1]{fontenc} 
\usepackage{url}
\usepackage{capt-of}
\usepackage{listings}
\usepackage{epsfig}

%Richten den Absatz nach links aus (wird nicht bei Bachelorthesis benoetigt)
\setlength{\parindent}{0pt} 

% Fortlaufende Kapitelüberschriften in der Kopfzeile
\pagestyle{headings}

\usepackage{scrpage2}
\pagestyle{scrheadings}
\setkomafont{pageheadfoot}{\normalfont\bfseries}
\renewcommand*\chapterpagestyle{scrheadings}
\renewcommand*\sectionmark[1]{\markright{\thesection\ #1}} 
\cfoot{}
\ofoot{\pagemark}

% Stil des Literaturverzeichnis
\bibliographystyle{alphadin}
\setbibpreamble{Beispielsweise Hinweis zur Sortierung des
Literaturverzeichnisses.\par\bigskip}

%PDF-Dateien einbinden
\usepackage{pdfpages}

%Groesse der Kopfzeile veraendern
\addtolength{\headheight}{1.6pt}

%Kapitelname aendern
\renewcommand\lstlistlistingname{Quellcodeverzeichnis}

%Abkuerzungsverzeichnis
\usepackage{nomencl}
	\let\abbrev\nomenclature
	\renewcommand{\nomname}{Abkuerzungsverzeichnis}
	\setlength{\nomlabelwidth}{.25\hsize}
	\renewcommand{\nomlabel}[1]{#1\dotfill}
	\setlength{\nomitemsep}{-\parsep}

\usepackage[normalem]{ulem}
	\newcommand{\markup}[1]{\uline{#1}}
\makenomenclature

% erweiterte Tabellen
\usepackage{array}

%Pfeile usw. einfuegen
\usepackage{amsmath}

%fuer Ueberschriften > 4 Eintraege
\setcounter{secnumdepth}{5}	%nummerierung im Text
\setcounter{tocdepth}{3}	%nummerierung im Inhaltsverzeichnis

% Farben
\usepackage{color}
\definecolor{LinkColor}{rgb}{0,0,0.6}
\definecolor{ListingBG}{rgb}{0.9,0.9,0.9}

%fuer mehrzeilige Kommentare
\newcommand{\comment}[1]{}

%fuer einen neuen Absatz ohne Einrueckung mit einfachen Zeilenabstand
\newcommand{\newpassage}{\hspace{1em}\vspace{1.0em}\\}

%fuer einen neuen Absatz mit Einrueckung mit einfachen Zeilenabstand
\newcommand{\newpassageL}{\hspace{1em}\vspace{1.0em}\\ \hspace*{5mm}}

%fuer das Zitieren aus einer bib-Datei
%\usepackage[round]{natbib}
%\usepackage{biblatex} %wegen textcite nehmen wollen

% Indirektes Zitieren
\newcommand{\citeindirect}[2]{
(Vgl. \cite{#1}, S. {#2})
%\footnote{Vgl. \cite{#1}, S. {#2}.}
%\footnote{Vgl. \citeauthor{#1} (\citeyear{#1}), S. #2.}
}

% direktes Zitieren
\newcommand{\citedirect}[2]{
(\cite{#1} , S. #2)
%\footnote{\cite{#1} , S. #2.}
%\footnote{\citeauthor{#1} (\citeyear{#1}), S. #2.}
}

% Zitieren einer Abbildung
\newcommand{\citeabb}[2]{
\citeauthor{#1} (\citeyear{#1}), S. #2.
}

% Zitieren einer Quelle aus dem Internet
\newcommand{\citeinternet}[2]{
\footnote{Vgl. \citeauthor{#1} (\citeyear{#1}), S. #2.}
}

\newcommand{\tocite}[1]{
\footnote{Vgl. \cite{#1}}
}

%EDIT command
\newcommand{\editHere}[1]{\textbf{\textcolor{red}{[BEARBEITEN: \MakeUppercase{#1}]}}}

\usepackage{boxedminipage}

%Eurozeichen
\usepackage{eurosym}

%Komprimierung von Text und Grafiken, 0=keine 9=hoechste
\pdfcompresslevel=0

% Hyperlinks (anklickbar im PDF)
\usepackage[%
    pdftitle={Titel der Arbeit},%
    pdfauthor={Vorname Nachname},%
    pdfpagemode=UseOutlines
]{hyperref}   

\hypersetup{%
    colorlinks=true,%    farbige Links statt Rahmen
    linkcolor=LinkColor,
    citecolor=LinkColor,
    filecolor=LinkColor,
    menucolor=LinkColor,
    urlcolor=LinkColor,
    }

%Für die optimsche Gestaltung der Java-Code-Listings
%\lstset{language=Java,numbers=left,numbersep=5pt,tabsize=4,basicstyle=\small,extendedchars=true,flexiblecolumns=true,frame=tb}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

% Definition eigener Operatoren (im Header)
\DeclareMathOperator{\rg}{Rang}

%Flowcharts
\usepackage{tikz}
\usepackage{pgf-umlsd}
\usepgflibrary{arrows}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{shapes.multipart}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{shadows}
\usetikzlibrary{calc}

% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=white!20, 
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt, general shadow={
                shadow xshift=0.0625in,
                shadow yshift=-0.0625in,
                opacity=0.5,
                fill=black!50
            }]
\tikzstyle{block} = [rectangle, draw, fill=white!20, 
    text width=5em, text centered, rounded corners, minimum height=2em, general shadow={
                shadow xshift=0.0625in,
                shadow yshift=-0.0625in,
                opacity=0.5,
                fill=black!50
            }]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=black!20, node distance=3cm, text centered, 
    minimum height=2.5em,  text width=2em,
general shadow={
                shadow xshift=0.0625in,
                shadow yshift=-0.0625in,
                opacity=0.5,
                fill=black!50
            }]
\tikzstyle{placeholder} = [draw, rectangle,fill=white!20, color=white, text=black,
    minimum height=2.5em,  text width=2em, node distance=1.5cm
]
\tikzstyle{kasten} = [draw, rectangle, thick, dashed,
    text width=15.15cm, minimum height=2cm, node distance=2cm
]
\tikzstyle{database} = [
  draw,
      cylinder,
      cylinder uses custom fill,
       fill=white!20, 
      shape border rotate=90,
      aspect=0.25,
  minimum height=3em, minimum width=2.5em,
general shadow={
                shadow xshift=0.0625in,
                shadow yshift=-0.0625in,
                opacity=0.5,
                fill=black!50
            }
]
\tikzstyle{kreis} = [ellipse, thick, draw, dashed, minimum height=4.8cm,  text width=7.2cm, fill=black!5
]

%db notation
\makeatletter
\pgfarrowsdeclare{crow's foot}{crow's foot}
{
  \pgfarrowsleftextend{+-.5\pgflinewidth}%
  \pgfarrowsrightextend{+.5\pgflinewidth}%
}
{
  \pgfutil@tempdima=0.5pt%
  \advance\pgfutil@tempdima by.25\pgflinewidth%
  \pgfsetdash{}{+0pt}%
  \pgfsetmiterjoin%
  \pgfpathmoveto{\pgfqpoint{0pt}{-6\pgfutil@tempdima}}%
  \pgfpathlineto{\pgfqpoint{-6\pgfutil@tempdima}{0pt}}%
  \pgfpathlineto{\pgfqpoint{0pt}{6\pgfutil@tempdima}}%
  \pgfusepathqstroke%
}

\tikzset{
    entity/.code={
        \tikzset{
            label=above:#1,
            name=#1,
            inner sep=0pt,
            every entity/.try,
            fill=white,
            general shadow={
                shadow xshift=0.0625in,
                shadow yshift=-0.0625in,
                opacity=0.5,
                fill=black!50
            }
        }%
        \def\entityname{#1}%
    },
    entity anchor/.style={matrix anchor=#1.center},
    every entity/.style={
            draw,
    },
    every property/.style={
        inner xsep=0.25cm, inner ysep=0.125cm, anchor=west, text width=10em
    },
    zig zag to/.style={
        to path={(\tikztostart) -| ($(\tikztostart)!#1!(\tikztotarget)$) |- (\tikztotarget)}
    },
    zig zag to/.default=0.5,
    one to many/.style={
        -crow's foot, zig zag to
    },
    many to one/.style={
        crow's foot-, zig zag to
    },
    many to many/.style={
        crow's foot-crow's foot, zig zag to
    }
}
\def\property#1{\node[name=\entityname-#1, every property/.try]{#1};}
\def\properties{\begingroup\catcode`\_=11\relax\processproperties}
\def\processproperties#1{\endgroup%
    \def\propertycode{}%
    \foreach \p in {#1}{%
        \expandafter\expandafter\expandafter\gdef\expandafter\expandafter\expandafter\propertycode%
            \expandafter\expandafter\expandafter{\expandafter\propertycode\expandafter\property\expandafter{\p}\\}%
    }%
    \propertycode%
}